<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>Delete Product</title>
  </head>
  <body>
    <h1>Delete Product</h1>
    <form>
      <input
        id="number"
        type="number" />
      <input
        id="submit"
        type="submit" />
    </form>
  </body>
  <script>
    // buat variable id untuk menampung id dari input
    let id = 0;
    // ketika semua element di load, maka jalankan function
    document.addEventListener("DOMContentLoaded", function () {
      // ekstrak form
      const form = document.querySelector("form");
      // ekstrak input dengan id number
      const input = document.querySelector("#number");

      // ketika input di input, maka jalankan function
      input.oninput = function () {
        id = input.value;
        console.log(id);
      };

      // ketika form di submit, maka jalankan function
      form.onsubmit = function () {
        // fetch data dari url kemudian tangkap response
        fetch(`https://fakestoreapi.com/products/${id}`, {
          // menggunakan method delete untuk menghapus data
          method: "DELETE",
        })
          // ekstrak data dari response
          .then((res) => res.json())
          // tampilkan data yang di ekstrak
          .then((json) => console.log(json));
        // menghindari default behavior dari form
        return false;
      };
    });
  </script>
</html>
