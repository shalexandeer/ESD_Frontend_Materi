<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>Add Products</title>
  </head>
  <body>
    <h1>Add Products</h1>
    <form>
      <div style="display: flex; flex-direction: column">
        <label for="title">Title</label>
        <input
          autofocus
          id="title"
          placeholder="title"
          type="text" />
      </div>
      <div style="display: flex; flex-direction: column">
        <label for="price">price</label>
        <input
          autofocus
          id="price"
          placeholder="price"
          type="text" />
      </div>
      <div style="display: flex; flex-direction: column">
        <label for="description">description</label>
        <input
          autofocus
          id="description"
          placeholder="description"
          type="text" />
      </div>
      <div style="display: flex; flex-direction: column">
        <label for="image">image</label>
        <input
          autofocus
          id="image"
          placeholder="image"
          type="file" />
      </div>
      <div style="display: flex; flex-direction: column">
        <label for="category">category</label>
        <select
          name=""
          id="category"></select>
      </div>
      <input type="submit" />
    </form>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      fetch("https://fakestoreapi.com/products/categories")
        .then((res) => res.json())
        .then((data) => {
          const select = document.querySelector("#category");
          data.forEach((category) => {
            const option = document.createElement("option");
            option.value = category;
            option.textContent = category;
            select.appendChild(option);
          });
        });
    });

    const form = document.querySelector("form");

    form.onsubmit = function () {
      const title = document.querySelector("#title").value;
      const price = document.querySelector("#price").value;
      const description = document.querySelector("#description").value;
      const image = document.querySelector("#image").value;
      const category = document.querySelector("#category").value;

      const product = {
        title,
        price,
        description,
        image,
        category,
      };

      fetch("https://fakestoreapi.com/products", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(product),
      })
        .then((res) => res.json())
        .then((data) => {
          console.log(data);
        });

      return false;
    };
  </script>
</html>
